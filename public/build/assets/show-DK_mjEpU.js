import{o as r,e as a,b as m,w as x,l as g,x as p,a as t,F as n,D as _,u as f,j as b,g as u,f as h,t as d,h as i}from"./app-DvSU79-W.js";import{_ as w}from"./WunjoLayout-CFRgDWgA.js";import"./NavLink-CLkD5yNU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const y={class:"w-[90%] mx-auto rounded-lg border border-gray-200 p-5 m-5"},v={class:"flex justify-between mb-3 pb-2 border-b-gray-200 border-b-2"},k=t("h1",{class:"flex font-semibold text-xl text-gray-700 leading-tigh"}," Pago Recibido ",-1),C=t("svg",{class:"h-6 w-6 text-white",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{stroke:"none",d:"M0 0h24v24H0z"}),t("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),t("path",{d:"M20 12h-13l3 -3m0 6l-3 -3"})],-1),O={class:"grid gap-2 text-sm lg:grid-cols-5 md:grid-cols-3 sm:grid-cols-3 border-b"},j=t("svg",{class:"h-8 w-8 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})],-1),M={class:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3"},E={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},N=t("h3",null,"Fecha",-1),P={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},A={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},S=t("h3",null,"Paciente",-1),T={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},D={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},F=t("h3",null,"Monto",-1),V={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},B={key:0},$=t("h2",{class:"text-gray-600 text-center font-bold"}," Detalles del Pago : ",-1),R={class:"sm:bg-white rounded-lg overflow-hidden sm:shadow-lg my-5"},q={class:"md:table-fixed w-full flex flex-row flex-no-wrap sm:bg-white rounded-lg overflow-hidden sm:shadow-lg my-5 overflow-auto"},G={class:"text-white"},H={class:"bg-gray-500 flex flex-col flex-no wrap sm:table-row rounded-l-lg sm:rounded-none mb-2 sm:mb-0"},I=t("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," FECHA ",-1),U=t("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," TIPO ",-1),z=t("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," MONTO PAGADO ",-1),L=t("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," STATUS PAGO ",-1),Q=[I,U,z,L],J={class:"flex-1 sm:flex-none md:flex-none"},K={class:"flex flex-col flex-no wrap sm:table-row mb-2 sm:mb-0 md:text-xs lg:text-md"},W={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},X={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},Y={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},Z={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},tt={key:1},et=t("h2",{class:"text-gray-600 text-center font-bold"}," Pagos Parciales : ",-1),st={class:"sm:bg-white rounded-lg overflow-hidden sm:shadow-lg my-5"},ot={class:"md:table-fixed w-full flex flex-row flex-no-wrap sm:bg-white rounded-lg overflow-hidden sm:shadow-lg my-5 overflow-auto"},rt={class:"text-white"},at={class:"bg-gray-500 flex flex-col flex-no wrap sm:table-row rounded-l-lg sm:rounded-none mb-2 sm:mb-0"},dt=t("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," METODO DE PAGO ",-1),lt=t("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," MONTO ",-1),nt=t("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," REFERENCIA ",-1),it=t("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," COMPROBANTE ",-1),ct=[dt,lt,nt,it],xt={class:"flex-1 sm:flex-none md:flex-none"},ht={class:"flex flex-col flex-no wrap sm:table-row mb-2 sm:mb-0 md:text-xs lg:text-md"},mt={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},ut={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},gt={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},pt={key:0,class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},_t={class:"flex justify-center items-center my-5"},ft=["onClick","src"],bt={key:1,class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},wt={id:"capture-modal",tabindex:"-1",class:"overflow-y-auto overflow-x-auto fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},yt={class:"mx-auto relative p-4 w-full max-w-2xl max-h-full"},vt={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},kt={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},Ct=t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Comprobante de pago ",-1),Ot=t("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),jt=t("span",{class:"sr-only"},"Close modal",-1),Mt=[Ot,jt],Et={class:"flex justify-center items-center my-5"},Nt=["src"],Pt={name:"PackageShow",data(){return{modalcapture:!1,urlCap:""}},methods:{changeFormat(e){let s=e.split("-");return s[2]+"/"+s[1]+"/"+s[0]},viewCapture(e){this.urlCap=e,this.modalcapture=!0},closeViewCapture(){this.modalcapture=!1},getNameMethod(e){let s="";return this.typemethods.forEach((l,o)=>{l.id==e&&(s=l.name)}),s},changeStatus(e){if(e.status=="CONFIRMADO"){alert("¡El pago ya esta confirmado!");return}_.visit("processpay",{method:"post",data:{payment:e.id},preserveState:!0,preserveScroll:!0,onSuccess:s=>{alert("¡El pago ha sido confirmado!")},onError:s=>{console.log("erros")}})}}},Vt=Object.assign(Pt,{props:{payment:{type:Object,required:!0},paymentdetails:{type:Object,required:!1},payment_checks:{type:Object,required:!1},typemethods:{type:Object,required:!1}},setup(e){return(s,l)=>(r(),a(n,null,[m(w,null,{header:x(()=>[]),default:x(()=>[t("div",y,[t("div",v,[k,m(f(b),{href:s.route("payments.index"),class:"w-full inline-flex mx-3 items-center justify-center w-1/2 px-3 py-2 text-sm font-medium text-center text-white rounded-lg bg-gray-800 hover:bg-gray-700 focus:ring-4 focus:ring-blue-300 sm:w-auto dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},{default:x(()=>[C,u(" Volver ")]),_:1},8,["href"])]),t("div",O,[t("div",null,[s.$page.props.user.roles=="supra"||s.$page.props.user.roles=="administrator"?(r(),a("button",{key:0,onClick:l[0]||(l[0]=o=>s.changeStatus(e.payment)),class:"justify-center p-1 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},[j,u(" Confirmar pago ")])):h("",!0)])]),t("div",M,[t("div",E,[N,t("p",P,d(e.payment.date),1)]),t("div",A,[S,t("p",T,d(e.payment.patient.fist_name)+" "+d(e.payment.patient.last_name),1)]),t("div",D,[F,t("p",V,d(e.payment.amount),1)])]),e.paymentdetails.length>0?(r(),a("div",B,[$,t("div",R,[t("table",q,[t("thead",G,[(r(!0),a(n,null,i(e.paymentdetails,(o,c)=>(r(),a("tr",H,Q))),256))]),t("tbody",J,[(r(!0),a(n,null,i(e.paymentdetails,(o,c)=>(r(),a("tr",K,[t("td",W,d(o.consultation_id?s.changeFormat(o.consultation.date):s.changeFormat(o.package.date)),1),t("td",X,d(o.consultation_id?"CONSULTA":"PAQUETE"),1),t("td",Y,d(o.amount_payable),1),t("td",Z,d(o.consultation_id?o.consultation.status_payment:o.package.status_payment),1)]))),256))])])])])):h("",!0),e.paymentdetails.length>0?(r(),a("div",tt,[et,t("div",st,[t("table",ot,[t("thead",rt,[(r(!0),a(n,null,i(e.payment_checks,(o,c)=>(r(),a("tr",at,ct))),256))]),t("tbody",xt,[(r(!0),a(n,null,i(e.payment_checks,(o,c)=>(r(),a("tr",ht,[t("td",mt,d(s.getNameMethod(o.payment_method.method_type_id)),1),t("td",ut,d(o.parcial_amount),1),t("td",gt,d(o.reference),1),o.url_capture?(r(),a("td",pt,[t("div",_t,[t("img",{onClick:At=>s.viewCapture(o.url_capture),class:"h-auto",src:"../"+o.url_capture,alt:"image Capture"},null,8,ft)])])):(r(),a("td",bt," No Tiene Comprobante "))]))),256))])])])])):h("",!0)])]),_:1}),g(t("div",wt,[t("div",yt,[t("div",vt,[t("div",kt,[Ct,t("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:l[1]||(l[1]=o=>s.closeViewCapture())},Mt)]),t("div",Et,[t("img",{class:"h-auto",src:"../"+s.urlCap,alt:"image Capture"},null,8,Nt)])])])],512),[[p,s.modalcapture]])],64))}});export{Vt as default};
