import{o as l,c as w,w as d,a as r,b as t,g as n,l as c,p as h,e as i,F as p,h as y,t as g,q as v,v as k,f}from"./app-DcWaHVYr.js";import{_}from"./FormSection-CbCdzDOC.js";import{_ as b}from"./InputError-DV6Q4E9Y.js";import{_ as u}from"./InputLabel-D8vGHr5M.js";import{_ as V}from"./PrimaryButton-DRG8iAgt.js";import{_ as $}from"./TextInput-D8oF76fe.js";const B={class:"col-span-6"},U={class:"col-span-6"},C={class:"col-span-6"},q=["value"],S={class:"p-1 grid grid-cols-1 gap-2"},D={key:0,class:"p-1 grid grid-cols-1 gap-2"},N={class:"w-full flex flex-row flex-no-wrap sm:bg-white rounded-lg overflow-hidden sm:shadow-lg my-5"},P=r("thead",{class:"text-white"},[r("tr",{class:"bg-gray-200 text-gray-500 flex flex-col flex-no wrap sm:table-row rounded-l-lg sm:rounded-none mb-2 sm:mb-0"},[r("th",{class:"p-3 text-center"},"Sede"),r("th",{class:"p-3 text-center"},"Seleccionar")])],-1),j={class:"flex-1 sm:flex-none"},E={class:"flex flex-col flex-no wrap sm:table-row mb-2 sm:mb-0"},F={class:"text-center border-grey-light border p-3"},O={class:"text-center border-grey-light border p-3 truncate"},R=["onUpdate:modelValue","onChange"],M={key:1,class:"p-1 grid grid-cols-1 gap-2"},z={class:"w-full flex flex-row flex-no-wrap sm:bg-white rounded-lg overflow-hidden sm:shadow-lg my-5"},L=r("thead",{class:"text-white"},[r("tr",{class:"bg-gray-200 text-gray-500 flex flex-col flex-no wrap sm:table-row rounded-l-lg sm:rounded-none mb-2 sm:mb-0"},[r("th",{class:"p-3 text-center"},"Sede"),r("th",{class:"p-3 text-center"},"Seleccionar")])],-1),T={class:"flex-1 sm:flex-none"},A={class:"flex flex-col flex-no wrap sm:table-row mb-2 sm:mb-0"},H={class:"text-center border-grey-light border p-3"},G={class:"text-center border-grey-light border p-3 truncate"},I=["onUpdate:modelValue","onChange"],J={key:0,class:"col-span-6"},K={key:1,class:"col-span-6"},Q=r("svg",{class:"me-1 -ms-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[r("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),W={name:"UsersForm",data(){return{UserRole:"",userBranches:[],confirmPass:"",brancheslist:[]}},mounted(){this.updating==!0&&(this.brancheslist=this.branches,this.brancheslist.forEach((s,o)=>{this.form.userBranches.forEach((a,e)=>{a.branch_id==s.id&&(this.brancheslist[o].checked=!0)})}))},methods:{BranchValidate(){},branchCheck(s,o){if(s==!0){let a={branch_id:o};this.form.userBranches.push(a)}else this.form.userBranches.forEach((a,e)=>{a.branch_id==o&&this.form.userBranches.splice(e,1)})},Formvalidate(){if(this.form.name==""){alert("Debes agegar un nombre al usuario");return}if(this.form.email==""){alert("Debes agegar un email al usuario");return}if(this.form.UserRole==""){alert("Debes agegar un role al usuario");return}if(this.form.userBranches.length==0){alert("Debes agegar una sede al usuario");return}if(this.updating==!1){if(this.form.password==""){alert("Debes agegar una constraseña al usuario");return}if(this.form.password!=this.confirmPass){alert("La contraseña y su confirmacion deben de coincidir");return}return this.$emit("submit")}else return this.$emit("submit")}}},se=Object.assign(W,{props:{form:{type:Object,required:!0},roles:{type:Object,required:!0},branches:{type:Object,required:!0},userbranch:{type:Object,required:!1},updating:{type:Boolean,required:!1,default:!1}},emits:["submit"],setup(s){return(o,a)=>(l(),w(_,{onSubmitted:a[6]||(a[6]=e=>o.Formvalidate()),class:"w-full"},{form:d(()=>[r("div",B,[t(u,{for:"name"},{default:d(()=>[n("Nombre")]),_:1}),t($,{type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",modelValue:s.form.name,"onUpdate:modelValue":a[0]||(a[0]=e=>s.form.name=e),id:"name",placeholder:"Nombre de usuario",required:""},null,8,["modelValue"]),t(b,{message:o.$page.props.errors.name},null,8,["message"])]),r("div",U,[t(u,{for:"email"},{default:d(()=>[n("email")]),_:1}),c(r("input",{type:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500","onUpdate:modelValue":a[1]||(a[1]=e=>s.form.email=e),id:"email",placeholder:"Email",required:""},null,512),[[h,s.form.email]]),t(b,{message:o.$page.props.errors.email},null,8,["message"])]),r("div",C,[t(u,{for:"status"},{default:d(()=>[n("Role")]),_:1}),c(r("select",{id:"role","onUpdate:modelValue":a[2]||(a[2]=e=>s.form.UserRole=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",onChange:a[3]||(a[3]=e=>o.BranchValidate())},[(l(!0),i(p,null,y(s.roles,e=>(l(),i("option",{value:e.name},g(e.name),9,q))),256))],544),[[v,s.form.UserRole]]),t(b,{message:o.$page.props.errors.role},null,8,["message"])]),r("div",S,[s.updating==!1?(l(),i("div",D,[t(u,{for:"name"},{default:d(()=>[n("Seleccionar las sedes")]),_:1}),r("table",N,[P,(l(!0),i(p,null,y(s.branches,(e,x)=>(l(),i("tbody",j,[r("tr",E,[r("td",F,g(e.name),1),r("td",O,[c(r("input",{type:"checkbox","onUpdate:modelValue":m=>e.checked=m,onChange:m=>o.branchCheck(e.checked,e.id),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,R),[[k,e.checked]])])])]))),256))])])):f("",!0),s.updating==!0?(l(),i("div",M,[t(u,{for:"name"},{default:d(()=>[n("Seleccionar las sedes")]),_:1}),r("table",z,[L,(l(!0),i(p,null,y(o.brancheslist,(e,x)=>(l(),i("tbody",T,[r("tr",A,[r("td",H,g(e.name),1),r("td",G,[c(r("input",{type:"checkbox","onUpdate:modelValue":m=>e.checked=m,onChange:m=>o.branchCheck(e.checked,e.id),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,I),[[k,e.checked]])])])]))),256))])])):f("",!0)]),s.updating==!1?(l(),i("div",J,[t(u,{for:"name"},{default:d(()=>[n("Password")]),_:1}),c(r("input",{type:"password",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500","onUpdate:modelValue":a[4]||(a[4]=e=>s.form.password=e),id:"password",placeholder:"password",required:""},null,512),[[h,s.form.password]]),t(b,{message:o.$page.props.errors.password},null,8,["message"])])):f("",!0),s.updating==!1?(l(),i("div",K,[t(u,{for:"name"},{default:d(()=>[n("Password confirm")]),_:1}),c(r("input",{type:"password",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500","onUpdate:modelValue":a[5]||(a[5]=e=>o.confirmPass=e),id:"confirmPass",placeholder:"password confirm",required:""},null,512),[[h,o.confirmPass]])])):f("",!0)]),actions:d(()=>[t(V,{class:"text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},{default:d(()=>[Q,n(" "+g(s.updating?"Actualizar":"Crear Nuevo"),1)]),_:1})]),_:1}))}});export{se as _};
