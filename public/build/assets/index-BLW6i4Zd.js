import{o as r,c as u,w as a,D as w,a as e,l as v,p as b,s as y,e as d,b as _,g,u as h,j as x,f as c,h as m,F as f,t as i}from"./app-BxmL82XW.js";import{_ as k}from"./WunjoLayout-C6Y6qLnH.js";import{d as j}from"./index-BZCpLrpS.js";import"./NavLink-CJYo68Z-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"w-[90%] mx-auto rounded-lg border border-gray-200 p-5 m-5"},C=e("div",{class:"flex justify-between mb-5"},[e("h1",{class:"flex font-semibold text-md text-gray-700 leading-tigh"}," Usuarios ")],-1),V={class:"p-4 bg-white block sm:flex items-center justify-between border-b border-gray-200 lg:mt-1.5 dark:bg-gray-800 dark:border-gray-700"},M={class:"w-full mb-1"},U={class:"sm:flex"},z={class:"items-center mb-3 sm:flex sm:divide-x sm:divide-gray-100 sm:mb-0 dark:divide-gray-700"},D=e("label",{class:"sr-only"},"Search",-1),$={class:"relative mt-1 lg:w-64 xl:w-96"},N={class:"flex pl-0 mt-3 space-x-1 sm:pl-2 sm:mt-0"},H=e("svg",{class:"h-8 w-8 text-gray-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),e("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),e("line",{x1:"8",y1:"11",x2:"14",y2:"11"})],-1),L=[H],S={key:0,class:"flex items-center ml-auto space-x-2 sm:space-x-3"},T=e("svg",{class:"w-5 h-5 mr-2 -ml-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),E={class:"overflow-auto rounded-lg shadow p-4"},q={class:"md:table-fixed w-full flex flex-row flex-no-wrap sm:bg-white rounded-lg overflow-hidden sm:shadow-lg my-5 overflow-auto"},A={class:"text-white"},O={class:"bg-cyan-700 flex flex-col flex-no wrap sm:table-row rounded-l-lg sm:rounded-none mb-2 sm:mb-0"},R=e("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," Nombre ",-1),F=e("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," Email ",-1),K=e("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," Role ",-1),I=e("th",{class:"text-xs text-center wrap p-1 h-14 text-left md:text-xs md:w-10 lg:text-md"}," A1 ",-1),G=e("th",{class:"text-xs text-center wrap p-1 h-14 text-left md:text-xs md:w-10 lg:text-md"}," A2 ",-1),J=[R,F,K,I,G],P={class:"flex-1 sm:flex-none md:flex-none"},Q={class:"flex flex-col flex-no wrap sm:table-row mb-2 sm:mb-0 md:text-xs lg:text-md"},W={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},X={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},Y={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},Z={class:"text-xs text-center content-center wrap border-grey-light border hover:bg-gray-100 p-1 h-14 md:text-xs md:w-9 lg:text-md"},ee=e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),e("path",{"fill-rule":"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z","clip-rule":"evenodd"})],-1),te={class:"text-xs text-center content-center wrap border-grey-light border hover:bg-gray-100 p-1 h-14 md:text-xs md:w-9 lg:text-md"},se=["onClick"],re=e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),oe=[re],le={class:"sticky bottom-0 right-0 items-center w-full p-4 bg-white border-t border-gray-200 sm:flex sm:justify-between dark:bg-gray-800 dark:border-gray-700"},ae={class:"flex items-center mb-4 sm:mb-0"},de=e("svg",{class:"w-7 h-7",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),ie=e("svg",{class:"w-7 h-7",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),ne={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},ce={class:"font-semibold text-gray-900 dark:text-white"},ue={class:"font-semibold text-gray-900 dark:text-white"},he={name:"Usersindex",data(){return{addBranch:!1,serviceDetail:!1,serviceData:[],roleuser:[],userrole:"",searchuser:"",userslist:[]}},mounted(){this.userslist=this.users},methods:{RoleUser(n){let o="";return this.roles.forEach((t,l)=>{t.model_id==n&&(o=t.rolesystem.name)}),o},goTosearchUser(n){if(n==""){this.userslist=this.users;return}w.visit("users/searchuser",{method:"post",data:{user:n},preserveState:!0,preserveScroll:!0,onSuccess:o=>{this.searchuser="",this.userslist=o.props.jetstream.flash.userfound},onError:o=>{console.log("erros")}})}}},ve=Object.assign(he,{props:{users:{type:Object,required:!0},roles:{type:Object,required:!0}},setup(n){const o=t=>{confirm("estas seguro que deseas eliminar este usuario?")&&j.Inertia.delete(route("users.destroy",t))};return(t,l)=>(r(),u(k,null,{header:a(()=>[]),default:a(()=>[e("div",B,[C,e("div",V,[e("div",M,[e("div",U,[e("div",z,[e("div",null,[D,e("div",$,[v(e("input",{onKeyup:l[0]||(l[0]=y(s=>t.goTosearchUser(t.searchuser),["enter"])),type:"text",name:"user",id:"users-search","onUpdate:modelValue":l[1]||(l[1]=s=>t.searchuser=s),class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Buscar usuarios"},null,544),[[b,t.searchuser]])])]),e("div",N,[e("button",{onClick:l[2]||(l[2]=s=>t.goTosearchUser(t.searchuser)),class:"inline-flex justify-center p-1 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},L)])]),t.$page.props.user.roles=="supra"?(r(),d("div",S,[_(h(x),{href:t.route("users.create"),class:"w-full inline-flex mx-3 items-center justify-center w-1/2 px-3 py-2 text-sm font-medium text-center text-white rounded-lg bg-gray-800 hover:bg-gray-700 focus:ring-4 focus:ring-blue-300 sm:w-auto dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},{default:a(()=>[T,g(" Nuevo usuario ")]),_:1},8,["href"])])):c("",!0)])])]),e("div",E,[e("table",q,[e("thead",A,[(r(!0),d(f,null,m(t.userslist.data,(s,p)=>(r(),d("tr",O,J))),256))]),e("tbody",P,[(r(!0),d(f,null,m(t.userslist.data,(s,p)=>(r(),d("tr",Q,[e("td",W,i(s.name),1),e("td",X,i(s.email),1),e("td",Y,i(t.RoleUser(s.id)),1),e("td",Z,[t.$page.props.user.roles=="supra"?(r(),u(h(x),{key:0,href:t.route("users.edit",s.id),class:"inline-flex text-md p-1 font-medium text-center text-white bg-yellow-500 rounded-lg hover:bg-yellow-700 focus:ring-4 focus:ring-red-300 dark:focus:ring-red-900"},{default:a(()=>[ee]),_:2},1032,["href"])):c("",!0)]),e("td",te,[t.$page.props.user.roles=="supra"?(r(),d("button",{key:0,onClick:xe=>o(s.id),type:"button",class:"inline-flex items-center p-1 font-medium text-center text-white bg-red-600 rounded-lg hover:bg-red-800 focus:ring-4 focus:ring-red-300 dark:focus:ring-red-900"},oe,8,se)):c("",!0)])]))),256))])])]),e("div",le,[e("div",ae,[t.userslist.current_page>1?(r(),u(h(x),{key:0,href:t.userslist.prev_page_url,class:"inline-flex justify-center p-1 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},{default:a(()=>[de]),_:1},8,["href"])):c("",!0),t.userslist.current_page<t.userslist.last_page?(r(),u(h(x),{key:1,href:t.userslist.next_page_url,class:"inline-flex justify-center p-1 mr-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},{default:a(()=>[ie]),_:1},8,["href"])):c("",!0),e("span",ne,[g("Mostrando "),e("span",ce,i(t.userslist.from)+"-"+i(t.userslist.to),1),g(" De "),e("span",ue,i(t.userslist.total),1)])])])])]),_:1}))}});export{ve as default};
