import{o as a,c as i,w as n,j as d,D as g,u as c,f as h,a as e,e as u,h as m,F as p,l as f,s as y,t as l,b as v}from"./app-bIbIT4Ru.js";import{_ as x}from"./AppLayout-Dcv0nTZt.js";import"./index-DKJrmZEC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const b=e("h1",{class:"font-semibold text-xl text-gray-800 leading-tigh"}," Pago de empleados ",-1),w=e("svg",{class:"h-8 w-8 text-cyan-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z"})],-1),_={class:"w-[80%] mx-auto rounded-lg border border-gray-200 p-5 m-5"},k={class:"overflow-x-auto rounded-t-lg p-t-50"},M={class:"w-full flex flex-row flex-no-wrap sm:bg-white rounded-lg overflow-hidden sm:shadow-lg my-5"},S=e("thead",{class:"text-white"},[e("tr",{class:"bg-cyan-600 flex flex-col flex-no wrap sm:table-row rounded-l-lg sm:rounded-none mb-2 sm:mb-0"},[e("th",{class:"p-3 text-center"},"Fecha"),e("th",{class:"p-3 text-center"},"empleado"),e("th",{class:"p-3 text-center"},"Concepto"),e("th",{class:"p-3 text-center"},"Monto"),e("th",{class:"p-3 text-center"},"Acciones")])],-1),C={class:"flex-1 sm:flex-none"},D={class:"flex flex-col flex-no wrap sm:table-row mb-2 sm:mb-0"},L={class:"text-center border-grey-light border hover:bg-gray-100 p-3"},j={class:"text-center border-grey-light border hover:bg-gray-100 p-3"},P={class:"text-center border-grey-light border hover:bg-gray-100 p-3 truncate"},z={class:"text-center border-grey-light border hover:bg-gray-100 p-3 truncate"},$={class:"text-center border-grey-light border hover:bg-gray-100 p-3 text-red-400 hover:text-red-600 hover:font-medium cursor-pointer"},B=e("svg",{class:"h-4 w-4 text-white-700",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1),V=e("svg",{class:"h-4 w-4 text-white-700",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M12 20h9"}),e("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})],-1),E=e("span",{class:"sr-only"},"Edit",-1),q=["onClick"],F=e("svg",{class:"h-4 w-4 text-white-700",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{stroke:"none",d:"M0 0h24v24H0z"}),e("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),e("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),e("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),e("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),e("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})],-1),H=e("span",{class:"sr-only"},"Delete",-1),N=[F,H],A={id:"deleteModal",tabindex:"-1",class:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-modal md:h-full"},O={class:"relative p-4 w-full max-w-md h-full md:h-auto"},I={class:"relative p-4 text-center bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5"},G=e("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),J=e("span",{class:"sr-only"},"Close modal",-1),K=[G,J],Q=e("svg",{class:"text-gray-400 dark:text-gray-500 w-11 h-11 mb-3.5 mx-auto","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),R=e("p",{class:"mb-4 text-gray-500 dark:text-gray-300"}," Â¿Estas seguro de eliminar este pago? ",-1),T={class:"flex justify-center items-center space-x-4"},U={name:"PaymentsIndex",data(){return{modalpayment:!1,deleteModal:!1,dataPayment:[],paymentview:[],position_name:"",listServicesPaid:[],paymentsList:[]}},components:{Link:d},async mounted(){},methods:{open_Detail(r){this.datax=r,this.modalDetail=!0},closeViewModal(){this.modalpayment=!1},changeFormat(r){let t=r.split("-");return t[2]+"/"+t[1]+"/"+t[0]},viewPayment(r){this.paymentview=r,g.visit("payments/servicespayment",{method:"post",data:{payment_id:r},preserveState:!0,preserveScroll:!0,onSuccess:t=>{this.listServicesPaid=t.props.jetstream.flash.serviceslistpayment,this.paymentsList=t.props.jetstream.flash.paymentDetailList},onError:t=>{console.log("erros")}}),this.modalpayment=!0},openDeleteModal(r){this.dataPayment=r,this.deleteModal=!0},closeDeleteModal(){this.deleteModal=!1},deletePayment(r){g.visit("payments/deletepayment",{method:"post",data:{payment_id:r.id,payment_amount:r.amount,services:this.listServicesPaid,payments:this.paymentsList},preserveState:!0,preserveScroll:!0,onSuccess:t=>{this.deleteModal=!1,alert(t.props.jetstream.flash.message)},onError:t=>{console.log("erros")}})}}},te=Object.assign(U,{props:{payrolls:{type:Object,required:!0},patients:{type:String,required:!1},payment_method:{type:String,required:!1},consultations:{type:String,required:!1},packages:{type:String,required:!1}},setup(r){return(t,o)=>(a(),i(x,null,{header:n(()=>[b,t.$page.props.user.roles=="supra"||t.$page.props.user.roles=="administrator"?(a(),i(c(d),{key:0,href:t.route("payrolls.create"),class:"w-full"},{default:n(()=>[w]),_:1},8,["href"])):h("",!0)]),default:n(()=>[e("div",_,[e("div",k,[e("table",M,[S,(a(!0),u(p,null,m(r.payrolls.data,s=>(a(),u("tbody",C,[e("tr",D,[e("td",L,l(t.changeFormat(s.date)),1),e("td",j,l(s.employee.fist_name)+" "+l(s.employee.last_name),1),e("td",P,l(s.concept),1),e("td",z,l(s.amount),1),e("td",$,[v(c(d),{href:t.route("payrolls.show",s.id),class:"text-white bg-cyan-700 hover:bg-cyan-800 focus:ring-4 focus:outline-none focus:ring-cyan-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},{default:n(()=>[B]),_:2},1032,["href"]),t.$page.props.user.roles=="supra"||t.$page.props.user.roles=="administrator"?(a(),i(c(d),{key:0,href:t.route("payrolls.edit",s.id),class:"text-white bg-cyan-700 hover:bg-cyan-800 focus:ring-4 focus:outline-none focus:ring-cyan-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},{default:n(()=>[V,E]),_:2},1032,["href"])):h("",!0),t.$page.props.user.roles=="supra"||t.$page.props.user.roles=="administrator"?(a(),u("button",{key:1,onClick:W=>t.openDeleteModal(s),class:"text-white bg-cyan-700 hover:bg-cyan-800 focus:ring-4 focus:outline-none focus:ring-cyan-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},N,8,q)):h("",!0)])])]))),256))])])]),f(e("div",A,[e("div",O,[e("div",I,[e("button",{type:"button",class:"text-gray-400 absolute top-2.5 right-2.5 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"deleteModal",onClick:o[0]||(o[0]=s=>t.closeDeleteModal())},K),Q,R,e("div",T,[e("button",{onClick:o[1]||(o[1]=s=>t.closeDeleteModal()),"data-modal-toggle":"deleteModal",type:"button",class:"py-2 px-3 text-sm font-medium text-gray-500 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-primary-300 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," No, cancelar "),e("button",{onClick:o[2]||(o[2]=s=>t.deletePayment(t.dataPayment)),class:"py-2 px-3 text-sm font-medium text-center text-white bg-red-600 rounded-lg hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-500 dark:hover:bg-red-600 dark:focus:ring-red-900"}," Si, Eliminar Pago. ")])])])],512),[[y,t.deleteModal]])]),_:1}))}});export{te as default};
