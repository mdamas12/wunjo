import{_ as x}from"./AppLayout-Dcv0nTZt.js";import{o as i,c as k,w as l,a as e,b as t,g as d,l as u,p as g,e as m,F as p,h as y,t as f,q as v,v as _,T as $,u as b,j as B}from"./app-bIbIT4Ru.js";import{_ as U}from"./FormSection-VXiMShzk.js";import{_ as c}from"./InputError-BzSO3uI0.js";import{_ as n}from"./InputLabel-B6Z70Kjb.js";import{_ as V}from"./PrimaryButton-Bf9J-dDQ.js";import{_ as j}from"./TextInput-DBSGjYLR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"col-span-6"},C={class:"col-span-6"},S={class:"col-span-6"},D=["value"],N={class:"p-1 grid grid-cols-1 gap-2"},O={class:"w-full flex flex-row flex-no-wrap sm:bg-white rounded-lg overflow-hidden sm:shadow-lg my-5"},P=e("thead",{class:"text-white"},[e("tr",{class:"bg-gray-200 text-gray-500 flex flex-col flex-no wrap sm:table-row rounded-l-lg sm:rounded-none mb-2 sm:mb-0"},[e("th",{class:"p-3 text-center"},"Sede"),e("th",{class:"p-3 text-center"},"Seleccionar")])],-1),F={class:"flex-1 sm:flex-none"},M={class:"flex flex-col flex-no wrap sm:table-row mb-2 sm:mb-0"},R={class:"text-center border-grey-light border p-3"},z={class:"text-center border-grey-light border p-3 truncate"},E=["onUpdate:modelValue","onChange"],T={class:"col-span-6"},H={class:"col-span-6"},L=e("svg",{class:"me-1 -ms-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),A={name:"UsersForm",data(){return{UserRole:"",userBranches:[],confirmPass:""}},methods:{BranchValidate(){},branchCheck(s,o){if(s==!0){let a={branch_id:o};this.form.userBranches.push(a)}else this.form.userBranches.forEach((a,r)=>{a.branch_id==o&&this.form.userBranches.splice(r,1)});console.log(this.form.userBranches)},Formvalidate(){if(this.form.name==""){alert("Debes agegar un nombre al usuario");return}if(this.form.email==""){alert("Debes agegar un email al usuario");return}if(this.form.UserRole==""){alert("Debes agegar un role al usuario");return}if(this.form.userBranches.length==0){alert("Debes agegar una sede al usuario");return}if(this.form.password==""){alert("Debes agegar una constraseña al usuario");return}if(this.form.password!=this.confirmPass){alert("La contraseña y su confirmacion deben de coincidir");return}else return this.$emit("submit")}}},G=Object.assign(A,{props:{form:{type:Object,required:!0},roles:{type:Object,required:!0},branches:{type:Object,required:!0},updating:{type:Boolean,required:!1,default:!1}},emits:["submit"],setup(s){return(o,a)=>(i(),k(U,{onSubmitted:a[6]||(a[6]=r=>o.Formvalidate()),class:"w-full"},{form:l(()=>[e("div",q,[t(n,{for:"name"},{default:l(()=>[d("Nombre")]),_:1}),t(j,{type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",modelValue:s.form.name,"onUpdate:modelValue":a[0]||(a[0]=r=>s.form.name=r),id:"name",placeholder:"Nombre de la Sucursal",required:""},null,8,["modelValue"]),t(c,{message:o.$page.props.errors.name},null,8,["message"])]),e("div",C,[t(n,{for:"name"},{default:l(()=>[d("email")]),_:1}),u(e("input",{type:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500","onUpdate:modelValue":a[1]||(a[1]=r=>s.form.email=r),id:"email",placeholder:"Email",required:""},null,512),[[g,s.form.email]]),t(c,{message:o.$page.props.errors.email},null,8,["message"])]),e("div",S,[t(n,{for:"status"},{default:l(()=>[d("Role")]),_:1}),u(e("select",{id:"role","onUpdate:modelValue":a[2]||(a[2]=r=>s.form.UserRole=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",onChange:a[3]||(a[3]=r=>o.BranchValidate())},[(i(!0),m(p,null,y(s.roles,r=>(i(),m("option",{value:r.name},f(r.name),9,D))),256))],544),[[v,s.form.UserRole]]),t(c,{message:o.$page.props.errors.role},null,8,["message"])]),e("div",N,[t(n,{for:"name"},{default:l(()=>[d("Seleccionar las sedes")]),_:1}),e("table",O,[P,(i(!0),m(p,null,y(s.branches,(r,w)=>(i(),m("tbody",F,[e("tr",M,[e("td",R,f(r.name),1),e("td",z,[u(e("input",{type:"checkbox","onUpdate:modelValue":h=>r.checked=h,onChange:h=>o.branchCheck(r.checked,r.id),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,E),[[_,r.checked]])])])]))),256))])]),e("div",T,[t(n,{for:"name"},{default:l(()=>[d("Password")]),_:1}),u(e("input",{type:"password",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500","onUpdate:modelValue":a[4]||(a[4]=r=>s.form.password=r),id:"password",placeholder:"password",required:""},null,512),[[g,s.form.password]]),t(c,{message:o.$page.props.errors.password},null,8,["message"])]),e("div",H,[t(n,{for:"name"},{default:l(()=>[d("Password confirm")]),_:1}),u(e("input",{type:"password",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500","onUpdate:modelValue":a[5]||(a[5]=r=>o.confirmPass=r),id:"confirmPass",placeholder:"password confirm",required:""},null,512),[[g,o.confirmPass]])])]),actions:l(()=>[t(V,{class:"text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},{default:l(()=>[L,d(" "+f(s.updating?"Actualizar":"Crear Nuevo"),1)]),_:1})]),_:1}))}}),I=e("h1",{class:"font-semibold text-xl text-gray-800 leading-tigh"}," Nuevo Usuario ",-1),J=e("svg",{class:"h-10 w-10 text-cyan-700",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{stroke:"none",d:"M0 0h24v24H0z"}),e("path",{d:"M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1"})],-1),K={class:"w-[60%] mx-auto rounded-lg border border-gray-200 p-5 m-5"},Q={class:""},W={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},X=e("div",{class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Formulario Usuario ")],-1),Y={name:"UsersCreate",data(){return{}},methods:{}},de=Object.assign(Y,{props:{roles:{type:Object,required:!0},branches:{type:Object,required:!0}},setup(s){const o=$({name:"",email:"",password:"",status:!0,userBranches:[],UserRole:""});return(a,r)=>(i(),k(x,null,{header:l(()=>[I,t(b(B),{class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",href:a.route("users.index")},{default:l(()=>[J]),_:1},8,["href"])]),default:l(()=>[e("div",K,[e("div",Q,[e("div",W,[X,t(G,{form:b(o),roles:s.roles,branches:s.branches,onSubmit:r[0]||(r[0]=w=>b(o).post(a.route("users.store")))},null,8,["form","roles","branches"])])])])]),_:1}))}});export{de as default};
