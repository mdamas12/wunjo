import{o as l,c as x,w as d,D as f,a as e,l as m,p as w,s as v,e as n,b as u,g as h,u as i,j as c,f as g,h as p,F as y,t as a,x as b}from"./app-BxmL82XW.js";import{_}from"./WunjoLayout-C6Y6qLnH.js";import"./NavLink-CJYo68Z-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const k={class:"w-[90%] mx-auto rounded-lg border border-gray-200 p-5 m-5"},M=e("div",{class:"flex justify-between mb-5"},[e("h1",{class:"flex font-semibold text-xl text-gray-700 leading-tigh"}," Pagos Empleados ")],-1),C={class:"p-4 bg-white block sm:flex items-center justify-between border-b border-gray-200 lg:mt-1.5 dark:bg-gray-800 dark:border-gray-700"},j={class:"w-full mb-1"},z={class:"sm:flex"},B={class:"items-center mb-3 sm:flex sm:divide-x sm:divide-gray-100 sm:mb-0 dark:divide-gray-700"},D=e("label",{class:"sr-only"},"Search",-1),E={class:"relative mt-1 lg:w-64 xl:w-96"},V={class:"flex pl-0 mt-3 space-x-1 sm:pl-2 sm:mt-0"},L=e("svg",{class:"h-8 w-8 text-gray-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),e("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),e("line",{x1:"8",y1:"11",x2:"14",y2:"11"})],-1),P=[L],$={key:0,class:"flex items-center ml-auto space-x-2 sm:space-x-3"},T=e("svg",{class:"w-5 h-5 mr-2 -ml-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),A={class:"overflow-x-auto rounded-t-lg p-t-50"},N={class:"md:table-fixed w-full flex flex-row flex-no-wrap sm:bg-white rounded-lg overflow-hidden sm:shadow-lg my-5 overflow-auto"},O={class:"text-white"},H={class:"bg-cyan-700 flex flex-col flex-no wrap sm:table-row rounded-l-lg sm:rounded-none mb-2 sm:mb-0"},F=e("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," FECHA ",-1),S=e("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," EMPLEADO ",-1),q=e("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," CONCEPTO ",-1),K=e("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," MONTO ",-1),I=e("th",{class:"text-xs text-center wrap p-1 h-14 text-left md:text-xs md:w-10 lg:text-md"}," A1 ",-1),R=e("th",{class:"text-xs text-center wrap p-1 h-14 text-left md:text-xs md:w-10 lg:text-md"}," A2 ",-1),U=[F,S,q,K,I,R],G={class:"flex-1 sm:flex-none md:flex-none"},J={class:"flex flex-col flex-no wrap sm:table-row mb-2 sm:mb-0 md:text-xs lg:text-md"},Q={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},W={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},X={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},Y={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md overflow-auto"},Z={class:"text-xs text-center content-center wrap border-grey-light border hover:bg-gray-100 p-1 h-14 md:text-xs md:w-9 lg:text-md"},ee=e("svg",{class:"h-4 w-4 text-white-700",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1),te={class:"text-xs text-center content-center wrap border-grey-light border hover:bg-gray-100 p-1 h-14 md:text-xs md:w-9 lg:text-md"},re=["onClick"],oe=e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),se=e("span",{class:"sr-only"},"Delete",-1),le=[oe,se],ae={class:"bottom-0 right-0 items-center w-full p-4 bg-white border-t border-gray-200 sm:flex sm:justify-between"},de={class:"flex items-center mb-4 sm:mb-0"},ne=e("svg",{class:"w-7 h-7",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),ie=e("svg",{class:"w-7 h-7",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),ce={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},ge={class:"font-semibold text-gray-900 dark:text-white"},xe={class:"font-semibold text-gray-900 dark:text-white"},he={id:"deleteModal",tabindex:"-1",class:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-modal md:h-full"},me={class:"relative p-4 w-full max-w-md h-full md:h-auto"},ue={class:"relative p-4 text-center bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5"},pe=e("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),ye=e("span",{class:"sr-only"},"Close modal",-1),fe=[pe,ye],we=e("svg",{class:"text-gray-400 dark:text-gray-500 w-11 h-11 mb-3.5 mx-auto","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),ve=e("p",{class:"mb-4 text-gray-500 dark:text-gray-300"}," Â¿Estas seguro de eliminar este pago? ",-1),be={class:"flex justify-center items-center space-x-4"},_e={name:"PayrollsIndex",data(){return{deleteModal:!1,dataPayroll:[],employee:""}},methods:{changeFormat(r){let t=r.split("-");return t[2]+"/"+t[1]+"/"+t[0]},openDeleteModal(r){this.dataPayroll=r,this.deleteModal=!0},closeDeleteModal(){this.deleteModal=!1},deletePayment(){f.visit("payrolls/destroy",{method:"DELETE",data:{employee:this.dataPayroll.employee_id,payroll:this.dataPayroll.id},onSuccess:r=>{console.log("ok")},onError:r=>{console.log("erros")}})},goTosearch(){alert("Accion no valida!")}}},Be=Object.assign(_e,{props:{payrolls:{type:Object,required:!0}},setup(r){return(t,s)=>(l(),x(_,null,{header:d(()=>[]),default:d(()=>[e("div",k,[M,e("div",C,[e("div",j,[e("div",z,[e("div",B,[e("div",null,[D,e("div",E,[m(e("input",{onKeyup:s[0]||(s[0]=v(o=>t.goTosearch(),["enter"])),type:"text",name:"user",id:"employee-search","onUpdate:modelValue":s[1]||(s[1]=o=>t.employee=o),class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Busqueda por paciente"},null,544),[[w,t.employee]])])]),e("div",V,[e("button",{onClick:s[2]||(s[2]=o=>t.goTosearch()),class:"inline-flex justify-center p-1 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},P)])]),t.$page.props.user.roles=="supra"||t.$page.props.user.roles=="administrator"?(l(),n("div",$,[u(i(c),{href:t.route("payrolls.create"),class:"w-full inline-flex mx-3 items-center justify-center w-1/2 px-3 py-2 text-sm font-medium text-center text-white rounded-lg bg-gray-800 hover:bg-gray-700 focus:ring-4 focus:ring-blue-300 sm:w-auto dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},{default:d(()=>[T,h(" Realizar pago ")]),_:1},8,["href"])])):g("",!0)])])]),e("div",A,[e("table",N,[e("thead",O,[(l(!0),n(y,null,p(r.payrolls.data,o=>(l(),n("tr",H,U))),256))]),e("tbody",G,[(l(!0),n(y,null,p(r.payrolls.data,o=>(l(),n("tr",J,[e("td",Q,a(t.changeFormat(o.date)),1),e("td",W,a(o.employee.fist_name)+" "+a(o.employee.last_name),1),e("td",X,a(o.concept),1),e("td",Y,a(o.amount),1),e("td",Z,[u(i(c),{href:t.route("payrolls.show",o.id),class:"inline-flex text-md p-1 font-medium text-center text-white bg-sky-500 rounded-lg hover:bg-sky-700 focus:ring-4 focus:ring-sky-300 dark:focus:ring-sky-900"},{default:d(()=>[ee]),_:2},1032,["href"])]),e("td",te,[t.$page.props.user.roles=="supra"||t.$page.props.user.roles=="administrator"?(l(),n("button",{key:0,onClick:ke=>t.openDeleteModal(o),class:"inline-flex items-center p-1 font-medium text-center text-white bg-red-600 rounded-lg hover:bg-red-800 focus:ring-4 focus:ring-red-300 dark:focus:ring-red-900"},le,8,re)):g("",!0)])]))),256))])]),e("div",ae,[e("div",de,[r.payrolls.current_page>1?(l(),x(i(c),{key:0,href:r.payrolls.prev_page_url,class:"inline-flex justify-center p-1 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},{default:d(()=>[ne]),_:1},8,["href"])):g("",!0),r.payrolls.current_page<r.payrolls.last_page?(l(),x(i(c),{key:1,href:r.payrolls.next_page_url,class:"inline-flex justify-center p-1 mr-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},{default:d(()=>[ie]),_:1},8,["href"])):g("",!0),e("span",ce,[h("Mostrando "),e("span",ge,a(r.payrolls.from)+"-"+a(r.payrolls.to),1),h(" De "),e("span",xe,a(r.payrolls.total),1)])])])])]),m(e("div",he,[e("div",me,[e("div",ue,[e("button",{type:"button",class:"text-gray-400 absolute top-2.5 right-2.5 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"deleteModal",onClick:s[3]||(s[3]=o=>t.closeDeleteModal())},fe),we,ve,e("div",be,[e("button",{onClick:s[4]||(s[4]=o=>t.closeDeleteModal()),"data-modal-toggle":"deleteModal",type:"button",class:"py-2 px-3 text-sm font-medium text-gray-500 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-primary-300 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," No, cancelar "),e("button",{onClick:s[5]||(s[5]=o=>t.deletePayment()),class:"py-2 px-3 text-sm font-medium text-center text-white bg-red-600 rounded-lg hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-500 dark:hover:bg-red-600 dark:focus:ring-red-900"}," Si, Eliminar Pago. ")])])])],512),[[b,t.deleteModal]])]),_:1}))}});export{Be as default};
