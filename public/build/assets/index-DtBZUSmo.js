import{o as a,c as g,w as l,j as h,D as b,a as e,l as m,p as w,e as n,b as p,g as u,u as x,f as c,h as _,F as f,t as s,s as v,T as k}from"./app-BJOG9bys.js";import{_ as C}from"./WunjoLayout-DFe1lN8a.js";import"./index-DeJRsktz.js";import"./NavLink-C6vHIAsw.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"w-[100%] mx-auto rounded-lg border border-gray-200 p-5"},D=e("div",{class:"mb-5"},[e("h1",{class:"font-semibold text-xl text-gray-700 leading-tigh"}," Consultas ")],-1),M={class:"overflow-auto rounded-lg shadow p-4"},A={class:"p-4 bg-white block sm:flex items-center justify-between border-b border-gray-200 lg:mt-1.5"},V={class:"w-full mb-1"},B={class:"sm:flex"},E={class:"items-center mb-3 sm:flex sm:divide-x sm:divide-gray-100 sm:mb-0 dark:divide-gray-700"},S=e("label",{class:"sr-only"},"Search",-1),T={class:"relative mt-1 lg:w-64 xl:w-96"},$={class:"flex pl-0 mt-3 space-x-1 sm:pl-2 sm:mt-0"},z={class:"flex pl-0 mt-3 space-x-1 sm:pl-2 sm:mt-0"},H={class:"flex pl-0 mt-3 space-x-1 sm:pl-2 sm:mt-0"},N={key:0,class:"flex items-center ml-auto space-x-2 sm:space-x-3"},I=e("svg",{class:"w-5 h-5 mr-2 -ml-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),L={class:"md:table-fixed w-full flex flex-row flex-no-wrap sm:bg-white rounded-lg overflow-hidden sm:shadow-lg my-5 overflow-auto"},F={class:"text-white"},q={class:"bg-cyan-700 flex flex-col flex-no wrap sm:table-row rounded-l-lg sm:rounded-none mb-2 sm:mb-0"},O=e("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," Sede ",-1),P=e("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," Fecha ",-1),R=e("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," Hora ",-1),U=e("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," Paciente ",-1),Z=e("th",{class:"text-xs text-center wrap p-3 h-14 text-left md:text-xs lg:text-md"}," Asignado ",-1),G=e("th",{class:"text-xs text-center wrap p-1 h-14 text-left md:text-xs md:w-10 lg:text-md"}," St ",-1),J=e("th",{class:"text-xs text-center wrap p-1 h-14 text-left md:text-xs md:w-9 lg:text-md"}," A1 ",-1),K=e("th",{class:"text-xs text-center wrap p-1 h-14 text-left md:text-xs md:w-9 lg:text-md"}," A2 ",-1),Q=e("th",{class:"h-14 text-xs text-center wrap p-1 text-left md:text-xs md:w-9 lg:text-md"}," A3 ",-1),W=[O,P,R,U,Z,G,J,K,Q],X={class:"flex-1 sm:flex-none md:flex-none"},Y={class:"flex flex-col flex-no wrap sm:table-row mb-2 sm:mb-0 md:text-xs lg:text-md"},ee={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md"},te={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md"},se={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md"},re={class:"text-xs h-14 text-center border-grey-light border p-3 md:text-xs lg:text-md"},oe={class:"text-xs text-center wrap border-grey-light border p-3 h-14 md:text-xs lg:text-md"},ae={class:"text-xs text-center content-center wrap border-grey-light border p-1 h-14 text-center md:text-xs md:w-10 lg:text-md"},de={key:0,class:"h-8 w-8 text-green-600 content-center",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},le=e("path",{stroke:"none",d:"M0 0h24v24H0z"},null,-1),ne=e("path",{d:"M9 5H7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2V7a2 2 0 0 0 -2 -2h-2"},null,-1),ie=e("rect",{x:"9",y:"3",width:"6",height:"4",rx:"2"},null,-1),ce=e("path",{d:"M9 14l2 2l4 -4"},null,-1),he=[le,ne,ie,ce],xe={key:1,class:"h-7 w-7 text-red-700",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ge=e("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},null,-1),pe=e("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"},null,-1),ue=[ge,pe],me={class:"text-xs text-center content-center wrap border-grey-light border hover:bg-gray-100 p-1 h-14 md:text-xs md:w-9 lg:text-md"},_e=e("svg",{class:"h-4 w-4 text-white-700",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1),fe={class:"text-xs text-center content-center wrap border-grey-light border hover:bg-gray-100 p-1 h-14 md:text-xs md:w-9 lg:text-md"},ye=e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),e("path",{"fill-rule":"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z","clip-rule":"evenodd"})],-1),be={class:"text-xs text-center content-center wrap border-grey-light border hover:bg-gray-100 p-1 h-14 md:text-xs md:w-9 lg:text-md"},we=["onClick"],ve=e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),ke=[ve],Ce={class:"text-gray-800 bottom-0 right-0 items-center w-full p-4 bg-white border-t border-gray-200 sm:flex sm:justify-between"},je={class:"text-gray-800 flex items-center mb-4 sm:mb-0"},De=e("svg",{class:"w-7 h-7 text-gray-80",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),Me=e("svg",{class:"w-7 h-7 text-gray-80",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),Ae={class:"text-sm font-normal text-gray-600"},Ve={class:"font-semibold text-gray-800"},Be={class:"font-semibold text-gray-800"},Ee={id:"default-modal",tabindex:"-1","aria-hidden":"true",class:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},Se={class:"mx-auto relative p-4 w-full max-w-2xl max-h-full"},Te={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},$e={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},ze=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Informacion del Empleado ",-1),He=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Ne=e("span",{class:"sr-only"},"Close modal",-1),Ie=[He,Ne],Le={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},Fe=e("p",null,"Nombre",-1),qe={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},Oe={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},Pe=e("p",null,"Apellido",-1),Re={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},Ue={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},Ze=e("h3",null,"Identificacion",-1),Ge={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},Je={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},Ke=e("h3",null,"Email",-1),Qe={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},We={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},Xe=e("h3",null,"Telefono",-1),Ye={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},et={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},tt=e("h3",null,"Posici√≥n",-1),st={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},rt={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},ot=e("h3",null,"Contrato",-1),at={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},dt={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},lt=e("h3",null,"Monto",-1),nt={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},it={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},ct=e("h3",null,"Descripcion",-1),ht={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},xt={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},gt=e("h3",null,"Status",-1),pt={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},ut={name:"ConsultationsIndex",data(){return{modalDetail:!1,data:[],position_name:"",search:"",consultations:[]}},components:{Link:h},async mounted(){this.consultations=this.consultations_all},methods:{async open_Detail(i){this.data=i,this.position_name=this.data.position.name,this.modalDetail=!0},closeDetail(){this.modalDetail=!1},changeFormat(i){let d=i.split("-");return d[2]+"/"+d[1]+"/"+d[0]},goTosearch(i){let d=this.search;if(i=="date"){let t=d.split("/");if(t.length<=1){alert("Debes escribir un formato de fecha dd/mm/AAAA, ejemplo: 01/03/2024");return}else d=t[2]+"-"+t[1]+"-"+t[0]}b.visit("consultations/filtersearch",{method:"post",data:{search:d,filter:i},preserveState:!0,preserveScroll:!0,onSuccess:t=>{let o=t.props.jetstream.flash.listsearch;this.consultations=o},onError:t=>{console.log("erros")}})}}},vt=Object.assign(ut,{props:{consultations_all:{type:Object,required:!0},sede:{type:String,required:!1},success_message:{type:String,required:!1}},setup(i){const d=t=>{const o=k({id:t.id,date:t.date,hour:t.hour,patient_id:t.patient_id,employee_id:t.employee_id,branch_id:t.branch_id,status_payment:t.status_payment,status:"DELETED"});confirm("estas seguro que deseas eliminar este Consulta?")&&o.post(route("changestatus"),{onError:()=>(console.log(o.errors),"existen errores en los datos"),onSuccess:()=>{alert("la consulta ha sido elimnada")}})};return(t,o)=>(a(),g(C,null,{header:l(()=>[]),default:l(()=>[e("div",j,[D,e("div",M,[e("div",A,[e("div",V,[e("div",B,[e("div",E,[e("div",null,[S,e("div",T,[m(e("input",{type:"text",name:"user",id:"patient-search","onUpdate:modelValue":o[0]||(o[0]=r=>t.search=r),class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Busqueda"},null,512),[[w,t.search]])])]),e("div",$,[e("button",{onClick:o[1]||(o[1]=r=>t.goTosearch("patient")),class:"inline-flex justify-center border p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"}," Paciente ")]),e("div",z,[e("button",{onClick:o[2]||(o[2]=r=>t.goTosearch("employee")),class:"inline-flex justify-center border p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"}," Empleado ")]),e("div",H,[e("button",{onClick:o[3]||(o[3]=r=>t.goTosearch("date")),class:"inline-flex justify-center border p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"}," Fecha ")])]),t.$page.props.user.roles=="supra"||t.$page.props.user.roles=="administrator"?(a(),n("div",N,[p(x(h),{href:t.route("consultations.create"),class:"w-full inline-flex mx-3 items-center justify-center w-1/2 px-3 py-2 text-sm font-medium text-center text-white rounded-lg bg-gray-800 hover:bg-gray-700 focus:ring-4 focus:ring-blue-300 sm:w-auto dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},{default:l(()=>[I,u(" Nueva Consulta ")]),_:1},8,["href"])])):c("",!0)])])]),e("table",L,[e("thead",F,[(a(!0),n(f,null,_(t.consultations.data,(r,y)=>(a(),n("tr",q,W))),256))]),e("tbody",X,[(a(!0),n(f,null,_(t.consultations.data,(r,y)=>(a(),n("tr",Y,[e("td",ee,s(r.branch.name),1),e("td",te,s(t.changeFormat(r.date)),1),e("td",se,s(r.hour),1),e("td",re,s(r.patient.fist_name)+" "+s(r.patient.last_name),1),e("td",oe,s(r.employee.fist_name)+" "+s(r.employee.last_name),1),e("td",ae,[p(x(h),{href:"#",class:"inline-flex text-md p-1 font-medium text-center text-white rounded-lg"},{default:l(()=>[r.status=="REALIZADA"?(a(),n("svg",de,he)):c("",!0),r.status=="PENDIENTE"?(a(),n("svg",xe,ue)):c("",!0)]),_:2},1024)]),e("td",me,[p(x(h),{href:t.route("consultations.show",r.id),class:"inline-flex text-md p-1 font-medium text-center text-white bg-sky-500 rounded-lg hover:bg-sky-700 focus:ring-4 focus:ring-sky-300 dark:focus:ring-sky-900"},{default:l(()=>[_e]),_:2},1032,["href"])]),e("td",fe,[t.$page.props.user.roles=="supra"||t.$page.props.user.roles=="administrator"?(a(),g(x(h),{key:0,href:t.route("consultations.edit",r.id),class:"inline-flex text-md p-1 font-medium text-center text-white bg-yellow-500 rounded-lg hover:bg-yellow-700 focus:ring-4 focus:ring-red-300 dark:focus:ring-red-900"},{default:l(()=>[ye]),_:2},1032,["href"])):c("",!0)]),e("td",be,[t.$page.props.user.roles=="supra"||t.$page.props.user.roles=="administrator"?(a(),n("button",{key:0,onClick:mt=>d(r),type:"button",class:"inline-flex items-center p-1 font-medium text-center text-white bg-red-600 rounded-lg hover:bg-red-800 focus:ring-4 focus:ring-red-300 dark:focus:ring-red-900"},ke,8,we)):c("",!0)])]))),256))])])]),e("div",Ce,[e("div",je,[t.consultations.current_page>1?(a(),g(x(h),{key:0,href:t.consultations.prev_page_url,class:"inline-flex justify-center p-1 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100"},{default:l(()=>[De]),_:1},8,["href"])):c("",!0),t.consultations.current_page<t.consultations.last_page?(a(),g(x(h),{key:1,href:t.consultations.next_page_url,class:"inline-flex justify-center p-1 mr-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100"},{default:l(()=>[Me]),_:1},8,["href"])):c("",!0),e("span",Ae,[u("Mostrando "),e("span",Ve,s(t.consultations.from)+"-"+s(t.consultations.to),1),u(" De "),e("span",Be,s(t.consultations.total),1)])])])]),m(e("div",Ee,[e("div",Se,[e("div",Te,[e("div",$e,[ze,e("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:o[4]||(o[4]=r=>t.closeDetail())},Ie)]),e("div",Le,[Fe,e("p",qe,s(t.data.fist_name),1)]),e("div",Oe,[Pe,e("p",Re,s(t.data.last_name),1)]),e("div",Ue,[Ze,e("p",Ge,s(t.data.identification),1)]),e("div",Je,[Ke,e("p",Qe,s(t.data.email),1)]),e("div",We,[Xe,e("p",Ye,s(t.data.phone),1)]),e("div",et,[tt,e("p",st,s(t.position_name),1)]),e("div",rt,[ot,e("p",at,s(t.data.contract),1)]),e("div",dt,[lt,e("p",nt,s(t.data.phone),1)]),e("div",it,[ct,e("p",ht,s(t.data.description),1)]),e("div",xt,[gt,e("p",pt,s(t.data.status=="true"?"ACTIVO":"INACTIVO"),1)])])])],512),[[v,t.modalDetail]])]),_:1}))}});export{vt as default};
