import{_ as $}from"./AppLayout-Dcv0nTZt.js";import{o as d,c as M,w as u,a as e,b as g,g as m,l as c,p as f,e as l,F as h,h as p,t as n,q as v,v as k,f as x,x as w,s as C,D as V,T as D,u as y,j}from"./app-bIbIT4Ru.js";import{_ as A}from"./FormSection-VXiMShzk.js";import{_}from"./InputError-BzSO3uI0.js";import{_ as P}from"./InputLabel-B6Z70Kjb.js";import{_ as F}from"./PrimaryButton-Bf9J-dDQ.js";import"./index-DKJrmZEC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"p-1 grid grid-cols-2 gap-2"},T={class:"rounded-lg"},E={class:"relative max-w-sm"},N=e("div",{class:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})])],-1),R={class:"rounded-lg"},U=["value"],B={class:"p-1 grid grid-cols-1 gap-2"},L={key:0,class:""},O=e("h3",null,"Pagos pendientes del cliente :",-1),z={class:"flex flex-row flex-no-wrap sm:bg-white rounded-lg sm:shadow-lg my-5 overflow-scroll"},q=e("thead",{class:"text-white"},[e("tr",{class:"bg-cyan-600 flex flex-col flex-no wrap sm:table-row rounded-l-lg sm:rounded-none mb-2 sm:mb-0"},[e("th",{class:"p-3 text-center"},"Paciente"),e("th",{class:"p-3 text-center"},"Fecha"),e("th",{class:"p-3 text-center"},"Servicio"),e("th",{class:"p-3 text-center"},"Monto Total"),e("th",{class:"p-3 text-center"},"Monto Pagado"),e("th",{class:"p-3 text-center"},"Monto a Pagar"),e("th",{class:"p-3 text-center"},"Acciones")])],-1),H={class:"flex-1 sm:flex-none"},G={class:"flex flex-col flex-no wrap sm:table-row mb-2 sm:mb-0"},I={class:"text-center border-grey-light border hover:bg-gray-100 p-3"},Z={class:"text-center border-grey-light border hover:bg-gray-100 p-3"},J=e("td",{class:"text-center border-grey-light border hover:bg-gray-100 p-3 truncate"}," Consulta ",-1),X={class:"text-center border-grey-light border hover:bg-gray-100 p-3 truncate"},K={class:"text-center border-grey-light border hover:bg-gray-100 p-3 truncate"},Q={class:"text-center border-grey-light border hover:bg-gray-100 p-3 truncate"},W={class:"text-center border-grey-light border hover:bg-gray-100 p-3 truncate"},Y=["onUpdate:modelValue","onChange"],ee={class:"flex-1 sm:flex-none"},te={class:"flex flex-col flex-no wrap sm:table-row mb-2 sm:mb-0"},ae={class:"text-center border-grey-light border hover:bg-gray-100 p-3"},re={class:"text-center border-grey-light border hover:bg-gray-100 p-3"},oe={class:"text-center border-grey-light border hover:bg-gray-100 p-3 truncate"},se={class:"text-center border-grey-light border hover:bg-gray-100 p-3 truncate"},ne={class:"text-center border-grey-light border hover:bg-gray-100 p-3 truncate"},ie={class:"text-center border-grey-light border hover:bg-gray-100 p-3 truncate"},de={class:"text-center border-grey-light border hover:bg-gray-100 p-3 truncate"},le=["onUpdate:modelValue","onChange"],ce={key:1},ue=e("h3",{class:"text-red-500"}," El paciente no tiene servicio pendiente por cancelar ",-1),ge=[ue],he={key:0,class:"bg-cyan-600 text-white p-1 grid grid-cols-2 gap-2 rounded-md mb-10"},pe={class:"rounded-xs p-2"},me=e("h1",null,"Agregar Pagos",-1),fe={class:"bg-gray-50 rounded-lg p-1 grid grid-cols-1 gap-2"},be={class:"p-1 grid grid-cols-2 gap-2"},ye={class:"rounded-lg"},_e=["value"],ve={class:""},ke={class:"p-1 grid grid-cols-2 gap-2"},xe={class:""},we={class:""},Ce=e("p",{class:"mt-1 text-sm text-gray-400 dark:text-gray-300",id:"file_input_help"}," SVG, PNG, JPG or GIF (MAX. 800x400px). ",-1),Pe={class:"items-center content-center"},Me=e("svg",{class:"h-6 w-6 text-cyan-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1),$e=[Me],Ve={class:"p-1 grid grid-cols-1 gap-2"},De={key:0,class:""},je=e("h3",null,"Pagos Parciales :",-1),Ae={class:"w-full flex flex-row flex-no-wrap sm:bg-white rounded-lg overflow-hidden sm:shadow-lg my-5"},Fe=e("thead",{class:"text-white"},[e("tr",{class:"bg-cyan-600 flex flex-col flex-no wrap sm:table-row rounded-l-lg sm:rounded-none mb-2 sm:mb-0"},[e("th",{class:"p-3 text-center"},"Metodo de pago"),e("th",{class:"p-3 text-center"},"Monto"),e("th",{class:"p-3 text-center"},"Referencias"),e("th",{class:"p-3 text-center"},"Comprobante"),e("th",{class:"p-3 text-center"},"Acciones")])],-1),Se={class:"flex flex-col flex-no wrap sm:table-row mb-2 sm:mb-0"},Te={class:"text-center border-grey-light border hover:bg-gray-100 p-3"},Ee={class:"text-center border-grey-light border hover:bg-gray-100 p-3"},Ne={class:"text-center border-grey-light border hover:bg-gray-100 p-3 truncate"},Re={class:"text-center border-grey-light border hover:bg-gray-100 p-3 truncate"},Ue={class:"text-center border-grey-light border hover:bg-gray-100 p-3 truncate"},Be=["onClick"],Le=e("svg",{class:"h-6 w-6 text-red-700",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1),Oe=[Le],ze={id:"addModal",tabindex:"-1",class:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-modal md:h-full"},qe={class:"relative p-4 w-full max-w-md h-full md:h-auto"},He={class:"relative p-4 text-center bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5"},Ge=e("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Ie=e("span",{class:"sr-only"},"Close modal",-1),Ze=[Ge,Ie],Je=e("svg",{class:"text-gray-400 dark:text-gray-500 w-11 h-11 mb-3.5 mx-auto","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),Xe=e("p",{class:"mb-4 text-gray-500 dark:text-gray-300"}," Agrega un monto a pagar para este servicio ",-1),Ke={class:"flex items-center mb-4"},Qe=e("label",{for:"default-radio-1",class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Pago Total",-1),We={class:"flex items-center"},Ye=e("label",{for:"default-radio-2",class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Pago Parcial",-1),et={class:"flex justify-center items-center space-x-4"},tt=e("svg",{class:"me-1 -ms-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),at={name:"PaymentForm",data(){return{consultation:[],consultations:[],packages:[],payment_details:[],consultationsPendingList:[],packagesPendingList:[],checked:"",band_consu:"consultation",band_pack:"packages",detail_band:"",msg_error:"",method_pay:"",parcial_amount:0,reference:"",file:null,datapay:[],total_pay_amount:0,total_amount:!1,partial_amount:!1,addModal:!1,pending:[],checked:!1,type:"",index:"",hidden_amount:!1,partial_amount:[],amount_paid_service:0,radioCheckTotal:!1,radioCheckPartial:!1}},methods:{search_consultations(o){V.visit("searchconsultation",{method:"post",data:{patient:o},preserveState:!0,preserveScroll:!0,onSuccess:a=>{a.props.jetstream.flash.consultations.forEach((s,i)=>{let b={id:s.id,date:s.date,patient:s.patient.fist_name+" "+s.patient.last_name,employee:s.employee.fist_name+" "+s.employee.last_name,amount:s.amount,amount_paid:s.amount_paid,amount_payable:0};this.consultations.push(b)}),a.props.jetstream.flash.packages.forEach((s,i)=>{let b={id:s.id,date:s.date,service_name:s.service_name,patient:s.patient.fist_name+" "+s.patient.last_name,price:s.service.price,amount_paid:s.amount_paid,amount_payable:0};this.packages.push(b)}),this.paymentPendingList=[]},onError:a=>{console.log("erros")}})},add_detail(o){o.date},changeFormat(o){let a=o.split("-");return a[2]+"/"+a[1]+"/"+a[0]},openAddModal(o,a,r,t){this.pending=o,this.checked=a,this.type=r,this.index=t,a==!0?this.addModal=!0:this.check(o,a,r,t)},closeAddModal(){this.addModal=!1,this.checked=!1},checkRadioPartial(){this.hidden_amount=!0},checkRadioTotal(){this.hidden_amount=!1,this.type=="consultation"?this.amount_paid_service=this.consultations[this.index].amount-this.consultations[this.index].amount_paid:this.amount_paid_service=this.packages[this.index].price-this.packages[this.index].amount_paid},check(o,a,r,t){if(a==!0){if(this.radioCheckTotal==!1&&this.radioCheckPartial==!1){alert("Debes seleccionar una opcion");return}if(this.addModal=!1,this.hidden_amount=!1,this.radioCheckTotal=!1,this.radioCheckPartial=!1,r=="consultation"){let s=this.consultations[t].amount-this.consultations[t].amount_paid;if(this.amount_paid_service>s){alert("El monto a pagar debe ser menor o igual al monto pendiente");return}this.consultations[t].amount_payable=this.amount_paid_service;let i={payment_id:"",consultation_id:o.id,amount_payable:this.amount_paid_service};this.detail_band="pass",this.form.consultaDetails.push(i),this.form.amount=this.amount_paid_service+this.form.amount,this.amount_paid_service=0}else{let s=this.packages[t].price-this.packages[t].amount_paid;if(this.amount_paid_service>s){alert("El monto a pagar debe ser menor o igual al monto pendiente");return}this.packages[t].amount_payable=this.amount_paid_service;let i={payment_id:"",package_id:o.id,service_id:o.services_id,amount_payable:this.amount_paid_service};this.detail_band="pass",this.form.packagesDetails.push(i),this.form.amount=this.amount_paid_service+this.form.amount}}else this.amount_paid_service=0,r=="consultation"?(this.form.consultaDetails.forEach((s,i)=>{s.consultation_id==o.id&&(this.form.consultaDetails.splice(i,1),this.form.amount=this.form.amount-this.consultations[i].amount_payable)}),this.consultations[t].amount_payable=0):(this.form.packagesDetails.forEach((s,i)=>{s.package_id==o.id&&(this.form.packagesDetails.splice(i,1),this.form.amount=this.form.amount-this.packages[i].amount_payable)}),this.packages[t].amount_payable=0),this.form.packagesDetails.length==0&&this.form.consultaDetails.length==0&&(this.detail_band="");this.amount_paid_service=0},selectFile(o){this.file=o.target.files[0]},addParcialPayment(){if(this.form.amount<=0){alert("¡Debes seleccionar algun pago pendiente del paciente!");return}if(this.total_pay_amount+this.parcial_amount>this.form.amount){alert("¡No puedes superar el monto total a pagar!");return}let a={method_pay:this.method_pay,parcial_amount:this.parcial_amount,reference:this.reference,file_reference:this.file};this.total_pay_amount=this.total_pay_amount+this.parcial_amount,this.datapay.push(a),this.reference="",this.parcial_amount=0},deleteParcialPayment(o){this.datapay.forEach((a,r)=>{r==o&&(this.total_pay_amount=this.total_pay_amount-a.parcial_amount,this.datapay.splice(r,1))})},validateform(){if(this.detail_band==""){alert("¡No puedes continuar sin seleccionar un pago pendiente de la lista!");return}if(this.form.packagesDetails.length==0&&this.form.consultaDetails.length==0){alert("¡No puedes continuar sin agregar al menos un pago!");return}if(this.datapay.length==0){alert("¡Debes agregar algun pago para continuar!");return}else this.form.partialPayments=this.datapay;if(this.form.consultaDetails.length+this.form.packagesDetails.length,this.total_pay_amount<this.form.amount){alert("¡Debes agregar el pago completo!");return}return this.$emit("submit")}}},rt=Object.assign(at,{props:{form:{type:Object,required:!0},patients:{type:Object,required:!0},payment_methods:{type:Object,required:!0},updating:{type:Boolean,required:!1,default:!1}},emits:["submit"],setup(o){return(a,r)=>(d(),M(A,{onSubmitted:r[16]||(r[16]=t=>a.validateform()),class:""},{form:u(()=>[e("div",S,[e("div",T,[g(P,{for:"date"},{default:u(()=>[m("Fecha")]),_:1}),e("div",E,[N,c(e("input",{datepicker:"","datepicker-buttons":"","datepicker-autoselect-today":"",type:"date","onUpdate:modelValue":r[0]||(r[0]=t=>o.form.date=t),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date"},null,512),[[f,o.form.date]])]),g(_,{message:a.$page.props.errors.date},null,8,["message"])]),e("div",R,[g(P,{for:"branch"},{default:u(()=>[m("Paciente:")]),_:1}),c(e("select",{class:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"branch_id","onUpdate:modelValue":r[1]||(r[1]=t=>o.form.patient_id=t),onChange:r[2]||(r[2]=t=>a.search_consultations(o.form.patient_id))},[(d(!0),l(h,null,p(o.patients,t=>(d(),l("option",{value:t.id},n(t.fist_name)+" "+n(t.last_name),9,U))),256))],544),[[v,o.form.patient_id]]),g(_,{message:a.$page.props.errors.patient_id},null,8,["message"])])]),e("div",B,[a.consultations.length!=0||a.packages.length!=0?(d(),l("div",L,[O,e("table",z,[q,(d(!0),l(h,null,p(a.consultations,(t,s)=>(d(),l("tbody",H,[e("tr",G,[e("td",I,n(t.patient),1),e("td",Z,n(a.changeFormat(t.date)),1),J,e("td",X,n(t.amount),1),e("td",K,n(t.amount_paid?t.amount_paid:"0"),1),e("td",Q,n(t.amount_payable),1),e("td",W,[c(e("input",{id:"add-consultation",type:"checkbox","onUpdate:modelValue":i=>t.checked=i,onChange:i=>a.openAddModal(t,t.checked,a.band_consu,s),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,Y),[[k,t.checked]])])])]))),256)),(d(!0),l(h,null,p(a.packages,(t,s)=>(d(),l("tbody",ee,[e("tr",te,[e("td",ae,n(t.patient),1),e("td",re,n(a.changeFormat(t.date)),1),e("td",oe,n(t.service_name),1),e("td",se,n(t.price),1),e("td",ne,n(t.amount_paid?t.amount_paid:"0"),1),e("td",ie,n(t.amount_payable),1),e("td",de,[c(e("input",{id:"add-consultation",type:"checkbox","onUpdate:modelValue":i=>t.checked=i,onChange:i=>a.openAddModal(t,t.checked,a.band_pack,s),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,le),[[k,t.checked]])])])]))),256))])])):(d(),l("div",ce,ge))]),o.form.amount>0?(d(),l("div",he,[e("span",pe," Monto total a cancelar : "+n(o.form.amount),1),g(_,{message:a.$page.props.errors.amount},null,8,["message"])])):x("",!0),me,e("div",fe,[e("div",be,[e("div",ye,[c(e("select",{class:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"method_pay",placeholder:"Monto a pagar","onUpdate:modelValue":r[3]||(r[3]=t=>a.method_pay=t)},[(d(!0),l(h,null,p(o.payment_methods,t=>(d(),l("option",{value:t},n(t.method_type.name)+" || "+n(t.bank),9,_e))),256))],512),[[v,a.method_pay]])]),e("div",ve,[c(e("input",{type:"number",class:"bg-gray-100 border border-gray-300 text-gray-700 text-md rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500","onUpdate:modelValue":r[4]||(r[4]=t=>a.parcial_amount=t),id:"parcial_amount",placeholder:"Monto a pagar",required:""},null,512),[[f,a.parcial_amount]])])]),e("div",ke,[e("div",xe,[c(e("input",{type:"text",class:"bg-gray-100 border border-gray-300 text-gray-700 text-md rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500","onUpdate:modelValue":r[5]||(r[5]=t=>a.reference=t),id:"reference",placeholder:"Referencia"},null,512),[[f,a.reference]])]),e("div",we,[e("input",{class:"w-full text-sm text-gray-600 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"file_input_help",id:"file_reference",type:"file",onChange:r[6]||(r[6]=(...t)=>a.selectFile&&a.selectFile(...t))},null,32),Ce])]),e("div",Pe,[e("button",{type:"button",onClick:r[7]||(r[7]=t=>a.addParcialPayment())},$e)])]),e("div",Ve,[a.datapay.length!=0?(d(),l("div",De,[je,e("table",Ae,[Fe,(d(!0),l(h,null,p(a.datapay,(t,s)=>(d(),l("tbody",{key:s,class:"flex-1 sm:flex-none"},[e("tr",Se,[e("td",Te,n(t.method_pay.method_type.name)+" || "+n(t.method_pay.bank),1),e("td",Ee,n(t.parcial_amount),1),e("td",Ne,n(t.reference?t.reference:"S/R"),1),e("td",Re,n(t.file_reference?t.file_reference.name:"S/R"),1),e("td",Ue,[e("button",{type:"button",onClick:i=>a.deleteParcialPayment(s)},Oe,8,Be)])])]))),128))])])):x("",!0)]),c(e("div",ze,[e("div",qe,[e("div",He,[e("button",{type:"button",class:"text-gray-400 absolute top-2.5 right-2.5 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"deleteModal",onClick:r[8]||(r[8]=t=>a.closeAddModal())},Ze),Je,Xe,e("div",Ke,[c(e("input",{id:"default-radio-1",type:"radio",value:"true","onUpdate:modelValue":r[9]||(r[9]=t=>a.radioCheckTotal=t),name:"default-radio",onChange:r[10]||(r[10]=t=>a.checkRadioTotal()),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[w,a.radioCheckTotal]]),Qe]),e("div",We,[c(e("input",{id:"default-radio-2",type:"radio",value:"true","onUpdate:modelValue":r[11]||(r[11]=t=>a.radioCheckPartial=t),name:"default-radio",onChange:r[12]||(r[12]=t=>a.checkRadioPartial()),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[w,a.radioCheckPartial]]),Ye,c(e("input",{type:"number",class:"bg-gray-100 border border-gray-300 text-gray-700 text-md rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",id:"amount_paid_service","onUpdate:modelValue":r[13]||(r[13]=t=>a.amount_paid_service=t),placeholder:"agrega el monto parcial"},null,512),[[C,a.hidden_amount],[f,a.amount_paid_service]])]),e("div",et,[e("button",{onClick:r[14]||(r[14]=t=>a.closeAddModal()),"data-modal-toggle":"deleteModal",type:"button",class:"py-2 px-3 text-sm font-medium text-gray-500 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-primary-300 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," cancelar "),e("button",{type:"button",onClick:r[15]||(r[15]=t=>a.check(a.pending,a.checked,a.type,a.index)),class:"py-2 px-3 text-sm font-medium text-center text-white bg-green-600 rounded-lg hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 dark:bg-green-500 dark:hover:bg-green-600 dark:focus:ring-green-900"}," Agregar ")])])])],512),[[C,a.addModal]])]),actions:u(()=>[g(F,{class:"text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},{default:u(()=>[tt,m(" "+n(o.updating?"Actualizar":"Crear Nuevo"),1)]),_:1})]),default:u(()=>[m(" $emit('submit') ")]),_:1}))}}),ot=e("h1",{class:"font-semibold text-xl text-gray-800 leading-tigh"}," Registrar Pago ",-1),st=e("svg",{class:"h-10 w-10 text-cyan-700",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{stroke:"none",d:"M0 0h24v24H0z"}),e("path",{d:"M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1"})],-1),nt={class:"w-[60%] mx-auto rounded-lg border border-gray-200 p-5 m-5 grid grid-cols-1 gap-3"},it={class:"bg-white rounded-lg shadow dark:bg-gray-700 grid grid-cols-1 gap-3"},dt=e("div",{class:"items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Formulario de pago ")],-1),lt={name:"PaymentCreate",data(){return{}},methods:{}},yt=Object.assign(lt,{props:{patients:{type:Object,required:!0},payment_methods:{type:Object,required:!0}},setup(o){const a=D({date:"",patient_id:"",amount:0,status:"POR CONFIRMAR",consultaDetails:[],packagesDetails:[],paymentsdonelist:[],partialPayments:new FormData,amount_paid:0,status_payment:"PENDIENTE"});return(r,t)=>(d(),M($,null,{header:u(()=>[ot,g(y(j),{class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",href:r.route("payments.index")},{default:u(()=>[st]),_:1},8,["href"])]),default:u(()=>[e("div",nt,[e("div",it,[dt,g(rt,{form:y(a),patients:o.patients,payment_methods:o.payment_methods,onSubmit:t[0]||(t[0]=s=>y(a).post(r.route("payments.store")))},null,8,["form","patients","payment_methods"])])])]),_:1}))}});export{yt as default};
