import{T as b,o as n,c as m,w as h,D as d,b as f,u as x,j as _,a as e,f as g,e as l,t as i,h as p,F as y,l as u,s as k,q as v}from"./app-bIbIT4Ru.js";import{_ as w}from"./AppLayout-Dcv0nTZt.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S=e("h1",{class:"font-semibold text-xl text-gray-800 leading-tigh mb-3"}," Detalle de la consulta ",-1),j=e("svg",{class:"h-8 w-8 text-cyan-600",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{stroke:"none",d:"M0 0h24v24H0z"}),e("line",{x1:"4",y1:"12",x2:"14",y2:"12"}),e("line",{x1:"4",y1:"12",x2:"8",y2:"16"}),e("line",{x1:"4",y1:"12",x2:"8",y2:"8"}),e("line",{x1:"20",y1:"4",x2:"20",y2:"20"})],-1),D=e("span",{class:"w-full"},"Volver",-1),C={class:"w-[80%] mx-auto rounded-lg border border-gray-200 p-5 m-5"},M={class:"grid grid-cols-3 border-b"},E={class:"flex pl-0 mt-3 space-x-1 sm:pl-2 sm:mt-0"},$=e("svg",{class:"h-8 w-8 text-gray-600",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{stroke:"none",d:"M0 0h24v24H0z"}),e("path",{d:"M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"}),e("path",{d:"M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"}),e("line",{x1:"16",y1:"5",x2:"19",y2:"8"})],-1),B=e("span",{class:"w-full items-center my-1"},"Editar",-1),V=e("svg",{class:"h-8 w-8 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})],-1),A=e("span",{class:"w-full items-center my-1"},"Detalles",-1),z=[V,A],I=e("svg",{class:"h-8 w-8 text-gray-600",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{stroke:"none",d:"M0 0h24v24H0z"}),e("circle",{cx:"9",cy:"7",r:"4"}),e("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),e("line",{x1:"19",y1:"7",x2:"19",y2:"10"}),e("line",{x1:"19",y1:"14",x2:"19",y2:"14.01"})],-1),P=e("span",{class:"w-full items-center my-1"},"EvaluaciÃ³n",-1),H=[I,P],O=e("svg",{class:"h-8 w-8 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),U=e("span",{class:"w-full items-center my-1"},"Eliminar",-1),T=[O,U],q=e("a",{href:"#",class:"inline-flex justify-center p-1 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})])],-1),R={class:""},F={class:"grid grid-cols-3 my-5"},N={class:"p-4 md:p-5 border-b rounded-t"},Q=e("h3",null,"Paciente",-1),L={class:"text-base text-gray-500 dark:text-gray-400"},G={class:"p-4 md:p-5 border-b rounded-t"},J=e("h3",null,"Fecha",-1),K={class:"text-base text-gray-500 dark:text-gray-400"},W={class:"p-4 md:p-5 border-b rounded-t"},X=e("h3",null,"Hora",-1),Y={class:"text-base text-gray-500 dark:text-gray-400"},Z={class:"grid grid-cols-3 my-5"},ee={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},te=e("h3",null,"Asiganado A:",-1),se={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},oe={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},re=e("h3",null,"Status de consulta",-1),ae={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},ie={class:"grid grid-cols-2 my-5"},ne={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},le=e("h3",null,"Monto Total",-1),de={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},ce={class:"p-4 md:p-5 space-y-4 border-b rounded-t"},he=e("h3",null,"Status de pago",-1),ue={class:"text-base leading-relaxed text-gray-500 dark:text-gray-400"},ge={class:"w-full flex flex-row flex-no-wrap sm:bg-white rounded-lg overflow-hidden sm:shadow-lg my-5"},pe=e("thead",{class:"text-white"},[e("tr",{class:"bg-cyan-600 flex flex-col flex-no wrap sm:table-row rounded-l-lg sm:rounded-none mb-2 sm:mb-0"},[e("th",{class:"p-3 text-center"},"Servicio / Paquete"),e("th",{class:"p-3 text-center"},"Monto"),e("th",{class:"p-3 text-center"},"Eliminar")])],-1),ye={class:"flex-1 sm:flex-none"},ve={class:"flex flex-col flex-no wrap sm:table-row mb-2 sm:mb-0"},me={class:"text-center border-grey-light border hover:bg-gray-100 p-3"},xe={class:"text-center border-grey-light border hover:bg-gray-100 p-3"},_e={class:"text-center border-grey-light border hover:bg-gray-100 p-3 text-red-400 hover:text-red-600 hover:font-medium cursor-pointer"},be=["onClick"],fe=e("svg",{class:"h-4 w-4 text-white-700",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{stroke:"none",d:"M0 0h24v24H0z"}),e("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),e("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),e("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),e("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),e("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})],-1),ke=[fe],we={id:"defaultd-modal",tabindex:"-1","aria-hidden":"true",class:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},Se={class:"mx-auto relative p-4 w-full max-w-2xl max-h-full"},je={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},De={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},Ce=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Agregar Servicio / Paquete ",-1),Me=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Ee=e("span",{class:"sr-only"},"Close modal",-1),$e=[Me,Ee],Be={class:"col-span-6"},Ve={class:"col-span-6 m-1"},Ae=e("option",{value:"SERVICIO"},"SERVICIO",-1),ze=e("option",{value:"PAQUETE"},"PAQUETE",-1),Ie=[Ae,ze],Pe={key:0,class:"col-span-6 m-1"},He=["value"],Oe={key:1,class:"col-span-6 m-1"},Ue=["value"],Te=e("svg",{class:"h-8 w-8 text-cyan-600",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{stroke:"none",d:"M0 0h24v24H0z"}),e("rect",{x:"3",y:"5",width:"18",height:"14",rx:"3"}),e("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),e("line",{x1:"7",y1:"15",x2:"7.01",y2:"15"}),e("line",{x1:"11",y1:"15",x2:"13",y2:"15"})],-1),qe=e("span",{class:"w-full"},"Agregar",-1),Re=[Te,qe],Fe={name:"consultationShow",data(){return{addDetailShow:!1,service_id:"",services:[],packages:[],list_details:[],detail:"",detail_type:""}},mounted(){this.loadDetails(this.consultation)},methods:{loadDetails(o){d.visit("listdetails",{method:"post",data:{consultation_id:o.id},preserveState:!0,preserveScroll:!0,onSuccess:a=>{let t=a.props.jetstream.flash.details,r=a.props.jetstream.flash.services;for(let s=0;s<t.length;s++)for(let c=0;c<r.length;c++)t[s].package&&t[s].package.service_id==r[c].id&&(t[s].package.service=r[c]);this.list_details=t},onError:a=>{console.log("erros")}})},loadselect(o,a){a=="SERVICIO"?d.visit("loadservices",{method:"post",data:{consultation_id:o.id},preserveState:!0,preserveScroll:!0,onSuccess:t=>{this.services=t.props.jetstream.flash.services},onError:t=>{console.log("erros")}}):d.visit("loadpackages",{method:"post",data:{patient_id:o.patient_id,consultation_id:o.id},preserveState:!0,preserveScroll:!0,onSuccess:t=>{this.packages=t.props.jetstream.flash.packages},onError:t=>{console.log("erros")}})},addDetail(o){this.addDetailShow=!0},closeDetail(){this.addDetailShow=!1},deletemsg(){alert("Por seguridad, puedes eliminar la consulta desde la lista principal")},saveDetail(o,a,t){a=="SERVICIO"?d.visit("savedetail",{method:"post",data:{consultation_id:o,service_id:t},preserveState:!0,preserveScroll:!0,onSuccess:r=>{this.addDetailShow=!1,this.consultation.amount=r.props.jetstream.flash.amount,this.detail_type="",this.detail="",this.loadDetails(this.consultation)},onError:r=>{console.log("erros")}}):d.visit("savedetail",{method:"post",data:{consultation_id:o,package_id:t},preserveState:!0,preserveScroll:!0,onSuccess:r=>{this.addDetailShow=!1,this.consultation.amount=r.props.jetstream.flash.amount,this.detail_type="",this.detail="",this.loadDetails(this.consultation)},onError:r=>{console.log("erros")}})},deleteDetail(o){d.visit("deletedetail",{method:"post",data:{detail_id:o.id},preserveState:!0,preserveScroll:!0,onSuccess:a=>{this.loadDetails(this.consultation),this.consultation.amount=a.props.jetstream.flash.amount},onError:a=>{console.log("erros")}})},addevaluation(o){console.log("evaluation")},addDiagnostico(){console.log("diagnostico")}}},Ge=Object.assign(Fe,{props:{consultation:{type:Object,required:!1}},setup(o){const a=o;return b({date:a.consultation.date,hour:a.consultation.hour,branch_id:a.consultation.branch_id,patient_id:a.consultation.patient_id,employee_id:a.consultation.employee_id,status_payment:a.consultation.status_payment,status:a.consultation.status}),(t,r)=>(n(),m(w,null,{header:h(()=>[S,f(x(_),{href:t.route("consultations.index"),class:"inline-flex items-center justify-center mx-2 text-base font-medium text-gray-600 rounded-lg bg-slate-50 hover:text-gray-900 hover:bg-slate-200 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white border-2 border-cyan-600"},{default:h(()=>[j,D]),_:1},8,["href"])]),default:h(()=>[e("div",C,[e("div",M,[e("div",E,[t.$page.props.user.roles=="supra"||t.$page.props.user.roles=="administrator"?(n(),m(x(_),{key:0,href:t.route("consultations.edit",o.consultation.id),class:"inline-flex justify-center p-1 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},{default:h(()=>[$,B]),_:1},8,["href"])):g("",!0),e("button",{onClick:r[0]||(r[0]=s=>t.addDetail(o.consultation)),class:"inline-flex justify-center p-1 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},z),t.$page.props.user.roles=="supra"||t.$page.props.user.roles=="employee"?(n(),l("button",{key:1,onClick:r[1]||(r[1]=s=>t.addevaluation(o.consultation)),class:"inline-flex justify-center p-1 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},H)):g("",!0),t.$page.props.user.roles=="supra"||t.$page.props.user.roles=="administrator"?(n(),l("button",{key:2,onClick:r[2]||(r[2]=s=>t.deletemsg()),class:"inline-flex justify-center p-1 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},T)):g("",!0),q])]),e("div",R,[e("div",F,[e("div",N,[Q,e("p",L,i(o.consultation.patient.fist_name)+" "+i(o.consultation.patient.last_name),1)]),e("div",G,[J,e("p",K,i(o.consultation.date),1)]),e("div",W,[X,e("p",Y,i(o.consultation.hour),1)])]),e("div",Z,[e("div",ee,[te,e("p",se,i(o.consultation.employee.fist_name)+" "+i(o.consultation.employee.last_name),1)]),e("div",oe,[re,e("p",ae,i(o.consultation.status),1)])]),e("div",ie,[e("div",ne,[le,e("p",de,i(o.consultation.amount),1)]),e("div",ce,[he,e("p",ue,i(o.consultation.status_payment=="PAID"?"PAGADA":o.consultation.status_payment),1)])])]),e("table",ge,[pe,(n(!0),l(y,null,p(t.list_details,s=>(n(),l("tbody",ye,[e("tr",ve,[e("td",me,i(s.service?s.service.name:s.package.service_name),1),e("td",xe,i(s.service?s.service.price:s.package.service.price),1),e("td",_e,[e("button",{onClick:c=>t.deleteDetail(s),class:"text-white bg-cyan-700 hover:bg-cyan-800 focus:ring-4 focus:outline-none focus:ring-cyan-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},ke,8,be)])])]))),256))])]),u(e("div",we,[e("div",Se,[e("div",je,[e("div",De,[Ce,e("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:r[3]||(r[3]=s=>t.closeDetail())},$e)]),e("div",Be,[e("div",Ve,[u(e("select",{class:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"servicio_id","onUpdate:modelValue":r[4]||(r[4]=s=>t.detail_type=s),onChange:r[5]||(r[5]=s=>t.loadselect(o.consultation,t.detail_type))},Ie,544),[[v,t.detail_type]])]),t.detail_type=="PAQUETE"?(n(),l("div",Pe,[u(e("select",{class:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"servicio_id","onUpdate:modelValue":r[6]||(r[6]=s=>t.detail=s)},[(n(!0),l(y,null,p(t.packages,s=>(n(),l("option",{value:s.id},i(s.service_name),9,He))),256))],512),[[v,t.detail]])])):(n(),l("div",Oe,[u(e("select",{class:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"servicio_id","onUpdate:modelValue":r[7]||(r[7]=s=>t.detail=s)},[(n(!0),l(y,null,p(t.services,s=>(n(),l("option",{value:s.id},i(s.name),9,Ue))),256))],512),[[v,t.detail]])])),e("button",{id:"add",onClick:r[8]||(r[8]=s=>t.saveDetail(o.consultation.id,t.detail_type,t.detail)),class:"m-1 inline-flex items-center justify-center mx-2 text-base font-medium text-gray-600 rounded-lg bg-slate-50 hover:text-gray-900 hover:bg-slate-200 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white border-double border-4 border-cyan-600"},Re)])])])],512),[[k,t.addDetailShow]])]),_:1}))}});export{Ge as default};
